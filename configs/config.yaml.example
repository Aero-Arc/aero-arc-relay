relay:
  buffer_size: 1000

mavlink:
  dialect: "common"  # common, ardupilot, px4, etc.
  endpoints:
    - name: "drone-1"
      protocol: "udp"
      address: "192.168.1.100"
      port: 14550
    - name: "drone-2"
      protocol: "tcp"
      address: "192.168.1.101"
      port: 5760
    - name: "ground-station"
      protocol: "serial"
      address: "/dev/ttyUSB0"
      baud_rate: 57600

sinks:
  s3:
    bucket: "your-telemetry-bucket"
    region: "us-west-2"
    access_key: "${AWS_ACCESS_KEY_ID}"
    secret_key: "${AWS_SECRET_ACCESS_KEY}"
    prefix: "telemetry"
  
  gcs:
    bucket: "your-gcs-telemetry-bucket"
    project_id: "your-gcp-project"
    credentials: "/path/to/service-account.json"  # Optional: uses ADC if not provided
    prefix: "telemetry"
  
  bigquery:
    project_id: "your-gcp-project"
    dataset: "telemetry"
    table: "mavlink_messages"
    credentials: "/path/to/service-account.json"  # Optional: uses ADC if not provided
    batch_size: 1000
    flush_interval: "30s"
  
  timestream:
    database: "telemetry"
    table: "mavlink_messages"
    region: "us-west-2"
    access_key: "${AWS_ACCESS_KEY_ID}"  # Optional: uses IAM role if not provided
    secret_key: "${AWS_SECRET_ACCESS_KEY}"  # Optional: uses IAM role if not provided
    batch_size: 100
    flush_interval: "30s"
  
  influxdb:
    url: "http://localhost:8086"
    database: "telemetry"  # For InfluxDB 1.x
    username: "admin"
    password: "password"
    # For InfluxDB 2.x, use these instead:
    # token: "your-influxdb-token"
    # organization: "your-org"
    # bucket: "telemetry"
    batch_size: 1000
    flush_interval: "30s"
  
  prometheus:
    url: "http://localhost:9090"
    job: "aero-arc-relay"
    instance: "drone-fleet"
    batch_size: 1000
    flush_interval: "30s"
  
  elasticsearch:
    urls:
      - "http://localhost:9200"
    index: "mavlink-telemetry"
    username: "elastic"  # Optional
    password: "password"  # Optional
    # api_key: "your-api-key"  # Alternative to username/password
    batch_size: 1000
    flush_interval: "30s"
  
  kafka:
    brokers:
      - "localhost:9092"
      - "localhost:9093"
    topic: "telemetry-data"
  
  file:
    path: "/var/log/aero-arc-relay/telemetry"
    format: "json"
    rotation: "daily"

logging:
  level: "info"
  format: "json"
  output: "stdout"
